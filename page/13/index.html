<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://cdn.baomitu.com/css?family=LXGW+WenKai:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha256-yIDrPSXHZdOZhAqiBP7CKzIwMQmRCJ8UeB8Jo17YC4o=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"bjt.name","root":"/","images":"/images","scheme":"Muse","darkmode":true,"version":"8.19.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":true,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Beta">
<meta property="og:url" content="http://bjt.name/page/13/index.html">
<meta property="og:site_name" content="Beta">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="刘思喆">
<meta property="article:tag" content="数据科学">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://bjt.name/page/13/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/13/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Beta</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="Beta" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Beta</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">It’s a beautiful thing when free data meets free algorithm.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-todo"><a href="/todo" rel="section"><i class="fa fa-sitemap fa-fw"></i>ToDo</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">刘思喆</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">95</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">69</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/sunbjt" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;sunbjt" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:sunbjt@gmail.com" title="E-Mail → mailto:sunbjt@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://bjt.name/2010/11/21/google-r-code-style.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="刘思喆">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Beta">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Beta">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2010/11/21/google-r-code-style.html" class="post-title-link" itemprop="url">R语言的代码规范</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2010-11-21 00:00:00" itemprop="dateCreated datePublished" datetime="2010-11-21T00:00:00+08:00">2010-11-21</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>前些天在准备<a href="http://cos.name/chinar/chinar-2010/" target="_blank">中国第三届R语言会议（上海）</a>的时候，
翻到以前记录在Google Notebook里的一些材料， 一篇是关于Google
Codes关于<a target="_blank" rel="noopener" href="https://google.github.io/styleguide/Rguide.xml">R代码的规范</a>，非常值得借鉴。</p>
<p>规范这个东西平时多多注意一些还是有好处的，就和作文一样，漂亮的字体总能有不错的加分。这里就不翻译原文了，摘一些
tips 供大家参考：</p>
<h2 id="r风格规范">R风格规范</h2>
<h3 id="文件命名">文件命名</h3>
<p>以 .R 结尾的文件必须有实际意义，比如</p>
<pre><code>GOOD: predict_ad_revenue.R 
BAD: foo.R</code></pre>
<h3 id="变量名和函数名">变量名和函数名</h3>
<ul>
<li>变量名建议使用小写字母和dots，比如
<code>variable.name</code>，<code>variableName</code>
也是可以被接受的</li>
<li>函数名起始字母为大写，不能包含dots，如
<code>FunctionName</code></li>
</ul>
<h3 id="间隔和间距">间隔和间距</h3>
<ul>
<li>所有的二元运算符（=, +, -, &lt;-, etc.）两端均需要有空格。</li>
<li>不要在逗号前增加空格，但逗号后必须有一个</li>
</ul>
<p>比如：</p>
<pre><code>tab.prior &lt;- table(df[df$days.from.opt &lt; 0, &quot;campaign.id&quot;])
total &lt;- sum(x[, 1])
total &lt;- sum(x[1, ])</code></pre>
<ul>
<li>在左括号前应增加空格，除了 function call 情况</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># GOOD: </span><br><span class="line">if (debug)</span><br><span class="line"></span><br><span class="line"># BAD: </span><br><span class="line">if(debug)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>多余的空格是允许的，比如为了对齐增加可读性：</p>
<p>plot(x = x.coord, y = data.mat[, MakeColName(metric, ptiles[1],
"roiOpt")], ylim = ylim, xlab = "dates", ylab = metric, main =
(paste(metric, " for 3 samples ", sep = "")))</p></li>
</ul>
<h3 id="大括号">大括号</h3>
<p>左大括号不能独立成行，右大括号必须独立成行（除else情况），比如</p>
<pre><code>if (is.null(ylim)) &#123;
  ylim &lt;- c(0, 0.06)
&#125;</code></pre>
<p>else情况的标准写法：</p>
<pre><code>if (condition) &#123;
  one or more lines
&#125; else &#123;
  one or more lines
&#125;</code></pre>
<h3 id="行长度">行长度</h3>
<p>不应超过80个字符</p>
<h3 id="缩进">缩进</h3>
<p>严格使用两个空格，不能使用 tabs</p>
<h3 id="赋值">赋值</h3>
<p>尽量使用 <code>&lt;-</code>，而不要使用 <code>=</code></p>
<h3 id="一般性声明">一般性声明</h3>
<p>如果我们遵循一致的声明，对代码的阅读和理解会更快更准确。这里包含</p>
<pre><code>1. Copyright statement comment
2. Author comment
3. File description comment, including purpose of program, inputs, and outputs
4. source() and library() statements
5. Function definitions
6. Executed statements, if applicable (e.g., print, plot)</code></pre>
<h3 id="注释">注释</h3>
<ul>
<li>一定要注意在代码间增加你的注释。长注释以 # 开始，后跟一个空格</li>
<li>短注释发生在代码后，两个空格间隔，# 开始，后跟一个空格</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Create histogram of frequency of campaigns by pct budget spent.</span><br><span class="line">hist(df$pct.spent,</span><br><span class="line">     breaks = &quot;scott&quot;,  # method for choosing number of buckets</span><br><span class="line">     main   = &quot;Histogram: fraction budget spent by campaignid&quot;,</span><br><span class="line">     xlab   = &quot;Fraction of budget spent&quot;,</span><br><span class="line">     ylab   = &quot;Frequency (count of campaignids)&quot;)</span><br></pre></td></tr></table></figure>
<h3 id="函数定义">函数定义</h3>
<ul>
<li>函数的定义，优先无默认参数值的参数，有参数值的参数在后。</li>
<li>每行一个参数是允许的，但有参数值的赋值不能断开。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># GOOD:</span><br><span class="line">PredictCTR &lt;- function(query, property, num.days,</span><br><span class="line">                       show.plot = TRUE)</span><br><span class="line"># BAD:</span><br><span class="line">PredictCTR &lt;- function(query, property, num.days, show.plot =</span><br><span class="line">                       TRUE)</span><br></pre></td></tr></table></figure>
<h3 id="函数文档">函数文档</h3>
<ul>
<li>函数在定义完成之后需要紧跟注释内容</li>
<li>注释内容包含一句话对函数的描述，每个参数（arguments）的描述，用
<code>Args</code> 表示；以及返回值的描述，用 <code>Returns</code>
表示。</li>
<li>注释必须非常清楚，调用者可以不用读后续任何代码就可直接调用。</li>
</ul>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">CalculateSampleCovariance &lt;- function(x, y, verbose = TRUE) &#123;</span><br><span class="line">  # Computes the sample covariance between two vectors.</span><br><span class="line">  #</span><br><span class="line">  # Args:</span><br><span class="line">  #   x: One of two vectors whose sample covariance is to be calculated.</span><br><span class="line">  #   y: The other vector. x and y must have the same length, greater than one,</span><br><span class="line">  #      with no missing values.</span><br><span class="line">  #   verbose: If TRUE, prints sample covariance; if not, not. Default is TRUE.</span><br><span class="line">  #</span><br><span class="line">  # Returns:</span><br><span class="line">  #   The sample covariance between x and y.</span><br><span class="line">  n &lt;- length(x)</span><br><span class="line">  # Error handling</span><br><span class="line">  if (n &lt;= 1 || n != length(y)) &#123;</span><br><span class="line">    stop(&quot;Arguments x and y have different lengths: &quot;,</span><br><span class="line">         length(x), &quot; and &quot;, length(y), &quot;.&quot;)</span><br><span class="line">  &#125;</span><br><span class="line">  if (TRUE %in% is.na(x) || TRUE %in% is.na(y)) &#123;</span><br><span class="line">    stop(&quot; Arguments x and y must not have missing values.&quot;)</span><br><span class="line">  &#125;</span><br><span class="line">  covariance &lt;- var(x, y)</span><br><span class="line">  if (verbose)</span><br><span class="line">    cat(&quot;Covariance = &quot;, round(covariance, 4), &quot;.\n&quot;, sep = &quot;&quot;)</span><br><span class="line">  return(covariance)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="todo注释">TODO注释</h3>
<p>用于指明临时代码、短期解决方案或足够好但还不够完美的地方。username处写的是了解该问题详细情况的人的名字，并不是指实际解决该问题的人。因此，当你建立一个TODO时，写上你自己的名字就可以了。
例如:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># TODO(liusizhe): Remove this code after the NewService has been checked in.</span><br></pre></td></tr></table></figure>
<h2 id="r语言规范">R语言规范</h2>
<h3 id="attach">attach</h3>
<p>避免使用它</p>
<h3 id="对象和方法">对象和方法</h3>
<ul>
<li>在S语言体系下有两套对象的定义，S3和S4，且都可以在R中使用。</li>
<li>S3体系的方法更加灵活、交互性更好，S4更加正式和严格。两套体系方法可以参考<a
target="_blank" rel="noopener" href="https://cran.r-project.org/doc/Rnews/Rnews_2004-1.pdf">这里</a></li>
<li>尽量使用S3体系，除非有足够的理由使用S4</li>
<li>绝对要避免混合使用 S3 和 S4 的情况</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://bjt.name/2010/10/12/r-cartoon-batch.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="刘思喆">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Beta">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Beta">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2010/10/12/r-cartoon-batch.html" class="post-title-link" itemprop="url">R之不务正业-批处理漫画</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2010-10-12 00:00:00" itemprop="dateCreated datePublished" datetime="2010-10-12T00:00:00+08:00">2010-10-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%B8%8D%E5%8A%A1%E6%AD%A3%E4%B8%9A%E7%9A%84-R/" itemprop="url" rel="index"><span itemprop="name">不务正业的 R</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>声明1：估计这篇博文的受众会很少很少……</p>
<p>声明2：请将下载的漫画于24小时内删除，balabala……</p>
<p>话说到，为了保护我已经不太好的视力，前几天购置了一台Kindle
DX，用来阅读电脑上大量存在电脑中的的pdf格式电子书。这个东东确实比较强悍，除了对这些pdf文字书籍支持比较不错外（当然有些书籍需要进行一些处理），对pdf格式的漫画支持更赞。</p>
<p>而我是一个彻底的漫粉，闲暇之余，从网上下载jpg格式的漫画（推荐下载工具ComicAiII），悠然自得看漫画，实在惬意的很～～</p>
<p>不过，有些下载的漫画有些问题，比如下面的这种的：</p>
<a target="_blank" rel="noopener" href="http://bjt.cos.name/wp-content/uploads/2010/10/Naruto_04_086.jpg"><img class="aligncenter size-full wp-image-10682" title="Naruto_04_086" src="http://bjt.cos.name/wp-content/uploads/2010/10/Naruto_04_086.jpg" alt="" width="644" height="503" /></a>
<p style="text-align: left;">
如果直接合并为pdf在Kindle
DX上阅读，纵向显示的话，上下各有很大一块白边，画面非常小；
<a target="_blank" rel="noopener" href="http://bjt.cos.name/wp-content/uploads/2010/10/Naruto_04_086_1.jpg"><img class="aligncenter size-full wp-image-10682" style="border: 1px solid black;" title="Naruto_04_086_1" src="http://bjt.cos.name/wp-content/uploads/2010/10/Naruto_04_086_1.jpg" alt="" width="430" height="630" /></a>
</p>
<p>如果横向显示，效果更差，底部有一部分不能显示。想看完两页漫画的话，需要向上下翻页反复操作：
<a target="_blank" rel="noopener" href="http://bjt.cos.name/wp-content/uploads/2010/10/Naruto_04_086_2.jpg"><img class="aligncenter size-full wp-image-10682" style="border: 1px solid black;" title="Naruto_04_086_2" src="http://bjt.cos.name/wp-content/uploads/2010/10/Naruto_04_086_2.jpg" alt="" width="644" height="503" /></a></p>
<p>琢磨来琢磨去，还是得手动把漫画裁剪为适合Kindle阅读的大小（Kindle
DX的标准9英寸屏显示区域和32开纸大小接近），并且把裁剪后的漫画顺序调换（日本漫画的阅读习惯是从左向右）。</p>
说白了需要对每页jpg漫画做两件事：
<ul>
<li>
从中间分割，将一张jpg图片变为两张；
</li>
<li>
为左右两张子图的增加顺序标记。
</li>
</ul>
<p>如果将分割的两张图片，右边图增加_0，左边图增加_1，即可满足要求。拿上面的086.jpg举例：170页（即右边部分）会被命名为086_0.jpg，171页会被命名为086_1.jpg，由于有了0、1标记，这样所有更新过的jpg合并为pdf文件的话，即可保证顺序的正确。</p>
<p>这一过程使用<a href="http://www.imagemagick.technocozy.com/" target="_blank">ImageMagick</a>和<a href="http://www.r-project.org" target="_blank">R</a>来实现(Windows
XP平台)：</p>
<p>假如你的火影忍者的目录为D:/漫画/Naruto04，文件为001.jpg、002.jpg……，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">setwd(&quot;D:/漫画/Naruto04&quot;)</span><br><span class="line">dd &lt;- dir()</span><br><span class="line">ff &lt;- function(x)&#123;</span><br><span class="line">    convert &amp;lt;- paste(&quot;convert &quot; , x ,</span><br><span class="line">                     &quot; -crop 2x1@ +repage +adjoin &quot;,</span><br><span class="line">                     &quot;%d_&quot;,substr(x,1,3),&quot;.jpg&quot;,sep = &#x27;&#x27;)</span><br><span class="line">    shell(convert)</span><br><span class="line">    reverse0 &amp;lt;- paste(&quot;convert &quot; , &quot;0_&quot;, x ,</span><br><span class="line">                      &quot; &quot;, substr(x,1,3), &quot;_1.jpg&quot;, sep = &#x27;&#x27;)</span><br><span class="line">    reverse1 &amp;lt;- paste(&quot;convert &quot; , &quot;1_&quot;, x ,</span><br><span class="line">                      &quot; &quot;, substr(x,1,3), &quot;_0.jpg&quot;, sep = &#x27;&#x27;)</span><br><span class="line">    shell(reverse0)</span><br><span class="line">    shell(reverse1)</span><br><span class="line">    shell(paste(&quot;del &quot; ,&quot;0_&quot;, x , sep = &#x27;&#x27;))</span><br><span class="line">    shell(paste(&quot;del &quot; ,&quot;1_&quot;, x , sep = &#x27;&#x27;))</span><br><span class="line">    shell(paste(&quot;del &quot; , x , sep = &#x27;&#x27;))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">for (j in dd) ff(j)</span><br><span class="line">shell(paste(&#x27;convert *.jpg &#x27;, &#x27;1.pdf&#x27;,sep = &#x27;&#x27;))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：目标文件夹的所有文件将被替换！</p>
</blockquote>
<p>最后要强调的是，虽然 Kindle
没有辐射，和一般的纸质书区别不大，但看多了仍然有损视力 ^_^</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://bjt.name/2010/08/10/realestate_weekend.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="刘思喆">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Beta">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Beta">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2010/08/10/realestate_weekend.html" class="post-title-link" itemprop="url">周末看房记</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2010-08-10 00:00:00" itemprop="dateCreated datePublished" datetime="2010-08-10T00:00:00+08:00">2010-08-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%BA%B2%E5%8E%86/" itemprop="url" rel="index"><span itemprop="name">亲历</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>上周末一时无聊，跟朋友跑去看房子。回来总结一下，当作经验和大家分享一下。现在这年代，看房子主角向来都是职业顾问（俗称中介），跟中介打交道，斗智斗勇那是相当有意思！回想起来，看房子的过程，几乎可以说是一部部大片的集合！且请听我细细道来：</p>
<p>看房子的地带有些远，通州九棵树附近（北京除了五棵松以外，还有九棵树，囧）</p>
<p>因为不是自己买房子，所以心态比较随意。等我睡饱爬起，吃过早饭，收拾妥当已然11点有余。慢条斯理的奔向长椿街，记录了一下从长椿街到九棵树的地铁运行时间，差不多1小时。出轻轨，打黑车，果然被黑之，忍之……</p>
<p>奔向朋友看中的房子，留意了一下小区的环境——环境确实非常不错，低密度6层板楼，让人很放松的感觉。房主是个搞艺术的，内部装修非常有品位，当听到中介MM说物业费是每月0.9元时，我自己差点没忍不住，要出手。</p>
<h2 id="警匪篇">警匪篇</h2>
<p>我见到的第二波中介一行有5个，其中三个男的，各个满脸横肉，凶神恶煞一般，若不是说带我们去看房子，我还真把他们当成劫匪了。不过最让我纳闷的是，总共就我们3个看房的，来5个中介陪同，兴师动众。搞得卖房的业主开门时都愣了，明显提高了警觉（估计当时想的是不是抢劫）。</p>
<p>这段时间中介日子不好过，真热情啊～～</p>
<h2 id="科技篇">科技篇</h2>
<p>第三波中介是店长加助理组合（一个中介店面会有3、4个店长），店长颇能侃，一边走一边胡扯，其实聊的和房子没点实际关系。更牛的是，最后一套房子也没给我们看，直接把我们忽悠到他店里了，现在想想也纳闷的很，怎么当时就听他的了。</p>
<p>最奇怪的是，进到他们的店里，我们3人的手机全没信号。本来，一路上不同的中介给我们通电话，突然手机没了信号，没有电话可接，相当不习惯。中介谈生意的手段非常高明：许诺我们中意的那套房子的业主30分钟必到，马上可以进入真刀真枪的划价阶段。然而30分钟过后……中介解释为：在路上，再等30分钟……又一个30分钟过去，中介解释：下班点，路上，有些堵（周日，囧），再等一刻钟……仍没到，解释：手机打不通了！不信你听听～～再等5分钟……演的真像，绝对不亚于我们敬爱的影帝爷爷。</p>
<p>就这样从4点半耗到了7点。事后我又看了看别人看房经历，发现中介店里都会有个房间可以屏蔽手机信号的，为什么把我们拉到店里，恐怕是不想让别的中介从抢走这单生意吧（高科技成就业务，真NB了）。</p>
<h2 id="惊悚篇">惊悚篇</h2>
<p>第四波中介是两小伙儿，其中的一个文质彬彬，颇有好感。路上，聊到我们刚刚看的一套房子，中介告诉我们，那是小区里最便宜的一套。而后问我们，上一波的中介有没有告诉我们便宜的原因。当时我就冒疑问了，里面还有文章？</p>
<p>中介小伙儿说，你们没看到他们正对楼下的红垫子么？没觉得有问题？我心说了，估计可能要说屋里面有人去世之类的话题，不过也很正常么。但后来，中介小伙儿说的话还是让我打了个冷战：</p>
<p>“这楼下住了个老头，就一个人儿，有天直接挂在屋里了，但也没人知道。过了一个月，天气炎热，尸体腐烂，散发出恶臭才被邻居发现……后来医院过来人，整个楼都是福尔马林消毒水。上面的住户受不了，想快速出手……”</p>
<p>惊悚归惊悚，我其实是对着老头的子女是很有看法的。老头就一个人，不在身边照顾就罢了，电话也不勤着点打。真是林子大了，什么鸟都有。</p>
<h2 id="后编">后编</h2>
<p>中介MM，中介GG都太牛了，坐在屋里谈费用的时候，手里只用一台20元的计算器完全搞定。嘴里还念叨着，这我们可以给你避税，这儿我们有优惠……</p>
<p>我还好事了一下，提议搞个Excel表，把房价输入，生成明细单，你我这边都省时间。结果被中介鄙视了一下，理由是周围政策环境变化是很快的，这东西只能装脑子里（言外之意，只能意会不能言传，额……）</p>
<p>据中介说，买房子有个费用叫“代书费”，是北京建委收的，收费的缘由是要求网签，而网签是由建委“代书”的，故要收这一笔。问题是，这笔费用不是常量，而是房价×0.5%，也是一笔不小的银子。我没忍住又好事了一把，搜了一下所谓的“代书费”，原来又是中介巧立名目。实际是“10元工本费和80元手续费”。</p>
<p>额，这中介也太无良了吧！</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://bjt.name/2010/06/08/oracle-data-mining-r.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="刘思喆">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Beta">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Beta">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2010/06/08/oracle-data-mining-r.html" class="post-title-link" itemprop="url">Oracle数据库开始支持R语言</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2010-06-08 00:00:00" itemprop="dateCreated datePublished" datetime="2010-06-08T00:00:00+08:00">2010-06-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>一则令人兴奋的简讯：</p>
<p>据<a href="http://blogs.oracle.com/" target="_blank">Oracle官方博客</a>
最近更新的
<a href="http://blogs.oracle.com/datamining/2010/05/new_r_interface_to_oracle_data_mining_available_for_download.html" target="_self">New
R Interface to Oracle Data Mining Available for
Download</a>，甲骨文开始正式支持R语言在Oracle数据库中的应用（简单的非官方说法是：甲骨文贡献了一个提供Oracle和R之间接口的附加包）。</p>
<p>援引博客中对R-ODM(R-Oracle Data Mining)的介绍：</p>
<p>R-ODM is especially useful for:</p>
<ol type="1">
<li>Quick prototyping of vertical or domain-based applications where the
Oracle Database supports the application</li>
<li>Scripting of "production" data mining methodologies</li>
<li>Customizing graphics of ODM data mining results (examples:
<a target="_blank" rel="noopener" href="http://www.oracle.com/technology/products/bi/odm/images/rodm_classification.jpg">classification</a>,
<a target="_blank" rel="noopener" href="http://www.oracle.com/technology/products/bi/odm/images/rodm_regression.jpg">regression</a>,
<a target="_blank" rel="noopener" href="http://www.oracle.com/technology/products/bi/odm/images/rodm_anomaly_detection.jpg">anomaly
detection</a>)</li>
</ol>
<p>众所周知，R在实现原型算法方面有着不可替代的巨大优势。诚然，通过R实现的一般性数据挖掘算法都可以嵌入到数据库中，但Oracle提供的这个接口，极大地提高了挖掘算法的部署效率。</p>
<p>今天（2010.06.08），<a href="http://cran.r-project.org/" target="_self">CRAN</a>上更新了<a href="http://cran.r-project.org/web/packages/RODM/index.html" target="_self">RODM</a>包的1.0-2版本，支持Windows、Linux、MacOS
X系统。</p>
<p>下面是RODM包帮助文档中的一个例子，可以初步地体会算法高效的部署：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">## Not run:</span><br><span class="line">x1 &lt;- 2 * runif(200)</span><br><span class="line">noise &lt;- 3 * runif(200) - 1.5</span><br><span class="line">y1 &lt;- 2 + 2*x1 + x1*x1 + noise</span><br><span class="line">dataset &lt;- data.frame(x1, y1)</span><br><span class="line">names(dataset) &lt;- c(&quot;X1&quot;, &quot;Y1&quot;)</span><br><span class="line">RODM_create_dbms_table(DB, &quot;dataset&quot;)   # Push the training table to the database</span><br><span class="line"></span><br><span class="line">glm &lt;- RODM_create_glm_model(database = DB,    # Create ODM GLM model</span><br><span class="line">                             data_table_name = &quot;dataset&quot;,</span><br><span class="line">                             target_column_name = &quot;Y1&quot;,</span><br><span class="line">                             mining_function = &quot;regression&quot;)</span><br><span class="line"></span><br><span class="line">glm2 &lt;- RODM_apply_model(database = DB,    # Predict training data</span><br><span class="line">                             data_table_name = &quot;dataset&quot;,</span><br><span class="line">                             model_name = &quot;GLM_MODEL&quot;,</span><br><span class="line">                             supplemental_cols = &quot;X1&quot;)</span><br><span class="line">windows(height=8, width=12)</span><br><span class="line">plot(x1, y1, pch=20, col=&quot;blue&quot;)</span><br><span class="line">points(x=glm2$model.apply.results[, &quot;X1&quot;],</span><br><span class="line">       glm2$model.apply.results[, &quot;PREDICTION&quot;], pch=20, col=&quot;red&quot;)</span><br><span class="line">legend(0.5, 9, legend = c(&quot;actual&quot;, &quot;GLM regression&quot;), pch = c(20, 20),</span><br><span class="line">                col = c(&quot;blue&quot;, &quot;red&quot;),</span><br><span class="line">                pt.bg =  c(&quot;blue&quot;, &quot;red&quot;), cex = 1.20, pt.cex=1.5, bty=&quot;n&quot;)</span><br><span class="line"></span><br><span class="line">RODM_drop_model(DB, &quot;GLM_MODEL&quot;)            # Drop the model</span><br><span class="line">RODM_drop_dbms_table(DB, &quot;dataset&quot;)   # Drop the database table</span><br><span class="line">RODM_close_dbms_connection(DB)</span><br><span class="line">RODM_close_dbms_connection(DB)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>说一句题外话：R的影响力除了在统计分析领域（SAS、SPSS、Statistica已经都开始支持R接口）外，已然发展到了商业数据库领域。</p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://bjt.name/2010/03/04/beijing-real-estate-contracts.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="刘思喆">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Beta">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Beta">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2010/03/04/beijing-real-estate-contracts.html" class="post-title-link" itemprop="url">北京房地产网上签约情况</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2010-03-04 00:00:00" itemprop="dateCreated datePublished" datetime="2010-03-04T00:00:00+08:00">2010-03-04</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>最近两会期间，房地产又一次成为焦点中的焦点，各位代表各抒己见，据说在政协的各项提案之中，关于房地产市场的提案几乎占据半壁江山。</p>
<p>房价涨与不涨，各位代表是各抒己见，有声音说北京房价2年内会<a href="http://house.focus.cn/news/2010-03-05/870811.html" target="_blank">涨到4万</a>，而且还有<a href="http://news.sohu.com/20100304/n270562281.shtml" target="_blank">佐证</a>。当然俺们的总理最近5年一直在说这事，童鞋可移步<a href="http://blog.mysupa.com/journal/237014.html" target="_self">这里</a>，当然还有一张漫画，这里就不贴了，太不Harmany。若感兴趣可以使用
blogtd + 总理姓名 google 之（可能得翻墙出去）。</p>
<p>人家说啥都不如自己看看，来点实际的。关注一下最近几年北京房地产市场每天网上（期房、存量房）签约的套数。</p>
<p>（首先声明，房地产市场比较复杂，比如官啊、商啊、摇号啊、中介啊、银行啊、炒房团啊，空军、多军……指标忒多，所以我一直也没搞太明白。搞不明白也想凑一凑热闹，与时俱进嘛！扔两张图上来，大家笑笑）</p>
<p>2008年9月1日至今的期房（不包含经适房、限价房）签约情况：</p>
<p><img src="/upload/pic/amount1.png" /></p>
<div id="_mcePaste">
其中的时点数据不包括：
</div>
<div>
<ol>
<li>
2009.01.25 - 2009.02.01 春节
</li>
<li>
2009.11.02，2010.01.10，2010.01.16 调试
</li>
<li>
2010.02.13 - 2010.2.19 春节
</li>
</ol>
</div>
<div>
如果只看2008年后半年，会发现其实每天签约的期房数量也不是很多，一直都在100套左右。不过在年底的时候，随着第一次楼盘降价潮的来临，部分刚需释放，期房签约的数量要明显高于平日。
</div>
<div>
假设2008年是期房市场正常年的话，那么2009年几乎可以用“疯狂”二字来标记北京的期房市场。每天平均400套的签约数量，动辄200、300万的房价，都贵成这样了，被谁买去啦？
</div>
<div>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2010/03/04/beijing-real-estate-contracts.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/12/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><span class="page-number current">13</span><a class="page-number" href="/page/14/">14</a><span class="space">&hellip;</span><a class="page-number" href="/page/19/">19</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/14/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">刘思喆</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<script class="next-config" data-name="giscus" type="application/json">{"enable":true,"repo":"sunbjt/sunbjt.github.io","repo_id":"R_kgDOLBq4Mw","category":"Announcements","category_id":"DIC_kwDOLBq4M84CcZd2","mapping":"url","reactions_enabled":1,"emit_metadata":1,"theme":"transparent_dark","lang":"zh-CN","crossorigin":"anonymous"}</script>

<script>
document.addEventListener('page:loaded', () => {
  if (!CONFIG.page.comments) return;

  NexT.utils.loadComments('.giscus-container')
    .then(() => NexT.utils.getScript('https://giscus.app/client.js', {
      attributes: {
        async                   : true,
        crossOrigin             : 'anonymous',
        'data-repo'             : CONFIG.giscus.repo,
        'data-repo-id'          : CONFIG.giscus.repo_id,
        'data-category'         : CONFIG.giscus.category,
        'data-category-id'      : CONFIG.giscus.category_id,
        'data-mapping'          : CONFIG.giscus.mapping,
        'data-reactions-enabled': CONFIG.giscus.reactions_enabled,
        'data-emit-metadata'    : CONFIG.giscus.emit_metadata,
        'data-theme'            : CONFIG.giscus.theme,
        'data-lang'             : CONFIG.giscus.lang,
        'data-input-position'   : CONFIG.giscus.input_position,
        'data-loading'          : CONFIG.giscus.loading
      },
      parentNode: document.querySelector('.giscus-container')
    }));
});
</script>

</body>
</html>
